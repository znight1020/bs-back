-- ========================
-- üìö BOOKS TABLE
-- ========================
CREATE TABLE IF NOT EXISTS books (
   id BIGINT AUTO_INCREMENT PRIMARY KEY,
   isbn13 CHAR(13) NOT NULL UNIQUE,
   title VARCHAR(50) NOT NULL,
   description TEXT,
   price_standard INT,
   cover VARCHAR(255),
   pub_date DATE
);

-- ========================
-- üßë MEMBERS TABLE
-- ========================
CREATE TABLE IF NOT EXISTS members (
     id BIGINT AUTO_INCREMENT PRIMARY KEY,
     email VARCHAR(50) NOT NULL UNIQUE,
     password VARCHAR(255) NOT NULL,
     nickname VARCHAR(20) NOT NULL,
     profile_image_url VARCHAR(255),
     created_at DATETIME
);

-- ========================
-- üìÇ CATEGORIES TABLE
-- ========================
CREATE TABLE IF NOT EXISTS categories (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(20) NOT NULL,
    parent_id BIGINT,
    FOREIGN KEY (parent_id) REFERENCES categories(id)
);

-- ========================
-- üìù POSTS TABLE
-- ========================
CREATE TABLE IF NOT EXISTS posts (
   id BIGINT AUTO_INCREMENT PRIMARY KEY,
   post_status ENUM('READY', 'IN_PROGRESS', 'COMPLETED') NOT NULL,
   category_id BIGINT NOT NULL,
   seller_id BIGINT NOT NULL,
   thumbnail_url VARCHAR(255) NOT NULL,
   book_id BIGINT NOT NULL,
   book_status ENUM('BEST', 'HIGH', 'MEDIUM', 'LOW') NOT NULL,
   sell_price INT NOT NULL,
   description VARCHAR(200),
   view_count INT DEFAULT 0,
   scrap_count INT DEFAULT 0,
   created_at DATETIME,
   FOREIGN KEY (category_id) REFERENCES categories(id),
   FOREIGN KEY (seller_id) REFERENCES members(id),
   FOREIGN KEY (book_id) REFERENCES books(id)
);

-- ========================
-- ‚≠ê LIKE_POSTS TABLE
-- ========================
CREATE TABLE IF NOT EXISTS like_posts (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    member_id BIGINT NOT NULL,
    post_id BIGINT NOT NULL,
    liked_at DATETIME,
    FOREIGN KEY (member_id) REFERENCES members(id),
    FOREIGN KEY (post_id) REFERENCES posts(id)
);

-- ========================
-- üì© NOTIFICATIONS TABLE
-- ========================
CREATE TABLE IF NOT EXISTS notifications (
   id BIGINT AUTO_INCREMENT PRIMARY KEY,
   receiver_id BIGINT NOT NULL,
   message VARCHAR(255) NOT NULL,
   is_read BOOLEAN DEFAULT FALSE,
   type ENUM('CHAT', 'SYSTEM', 'ETC') NOT NULL,
   created_at DATETIME,
   FOREIGN KEY (receiver_id) REFERENCES members(id)
);

-- ========================
-- üí¨ CHAT_ROOMS TABLE
-- ========================
CREATE TABLE IF NOT EXISTS chat_rooms (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    trade_id BIGINT NOT NULL,
    title_suffix VARCHAR(100) NOT NULL,
    last_chat_at DATETIME NOT NULL,
    status BOOLEAN NOT NULL,
    created_at DATETIME,
    modified_at DATETIME,
    FOREIGN KEY (trade_id) REFERENCES trades(id)
);

-- ========================
-- üí¨ CHAT_MESSAGES TABLE
-- ========================
CREATE TABLE IF NOT EXISTS chat_messages (
   id BIGINT AUTO_INCREMENT PRIMARY KEY,
   chat_room_id BIGINT NOT NULL,
   sender_id BIGINT NOT NULL,
   chat_message_type ENUM('MESSAGE', 'IMAGE', 'SYSTEM') NOT NULL,
   chat_message VARCHAR(500),
   chat_image_url VARCHAR(255),
   is_read BOOLEAN DEFAULT FALSE,
   sent_at DATETIME NOT NULL,
   FOREIGN KEY (chat_room_id) REFERENCES chat_rooms(id),
   FOREIGN KEY (sender_id) REFERENCES members(id)
);

-- ========================
-- üë• CHAT_ROOM_MEMBERS TABLE
-- ========================
CREATE TABLE IF NOT EXISTS chat_room_members (
   id BIGINT AUTO_INCREMENT PRIMARY KEY,
   chat_room_id BIGINT NOT NULL,
   member_id BIGINT NOT NULL,
   is_exited BOOLEAN NOT NULL,
   exited_at DATETIME,
   status BOOLEAN NOT NULL,
   FOREIGN KEY (chat_room_id) REFERENCES chat_rooms(id),
   FOREIGN KEY (member_id) REFERENCES members(id)
);

-- ========================
-- üó∫Ô∏è SIDO_AREAS TABLE
-- ========================
CREATE TABLE IF NOT EXISTS sido_areas (
    id INT PRIMARY KEY,
    adm_code VARCHAR(2) NOT NULL,
    name VARCHAR(50) NOT NULL
);

-- ========================
-- üèûÔ∏è SIGG_AREAS TABLE
-- ========================
CREATE TABLE IF NOT EXISTS sigg_areas (
    id INT PRIMARY KEY,
    sido_area_id INT NOT NULL,
    adm_code VARCHAR(5) NOT NULL,
    name VARCHAR(50) NOT NULL,
    FOREIGN KEY (sido_area_id) REFERENCES sido_areas(id)
);

-- ========================
-- üó∫Ô∏è EMD_AREAS TABLE
-- ========================
CREATE TABLE IF NOT EXISTS emd_areas (
   id INT PRIMARY KEY,
   sigg_area_id INT NOT NULL,
   adm_code VARCHAR(10) NOT NULL,
   name VARCHAR(50) NOT NULL,
   geom GEOMETRY SRID 4326,
   FOREIGN KEY (sigg_area_id) REFERENCES sigg_areas(id)
);

-- ========================
-- üìç ACTIVITY_AREAS TABLE
-- ========================
CREATE TABLE IF NOT EXISTS activity_areas (
    member_id BIGINT NOT NULL,
    emd_area_id INT NOT NULL,
    authentication_at DATE NOT NULL,
    PRIMARY KEY (member_id, emd_area_id),
    FOREIGN KEY (member_id) REFERENCES members(id),
    FOREIGN KEY (emd_area_id) REFERENCES emd_areas(id)
);

-- ========================
-- ü§ù TRADES TABLE
-- ========================
CREATE TABLE IF NOT EXISTS trades (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    post_id BIGINT NOT NULL,
    buyer_id BIGINT NOT NULL,
    trade_status ENUM('REQUESTED', 'CANCELED', 'COMPLETED') NOT NULL,
    updated_at DATETIME NOT NULL,
    created_at DATETIME,
    FOREIGN KEY (post_id) REFERENCES posts(id),
    FOREIGN KEY (buyer_id) REFERENCES members(id)
);

-- ========================
-- üìÇ CATEGORIES DATA
-- ========================
INSERT INTO categories (id, name, parent_id) VALUES (1, 'Í≤ΩÏ†ú/Í≤ΩÏòÅ', NULL);
INSERT INTO categories (id, name, parent_id) VALUES (2, 'Í≥ºÌïô/IT', NULL);
INSERT INTO categories (id, name, parent_id) VALUES (3, 'ÎßåÌôî', NULL);
INSERT INTO categories (id, name, parent_id) VALUES (4, 'Î¨∏Ìïô', NULL);
INSERT INTO categories (id, name, parent_id) VALUES (5, 'Ïñ¥Î¶∞Ïù¥/Ï≤≠ÏÜåÎÖÑ', NULL);
INSERT INTO categories (id, name, parent_id) VALUES (6, 'ÏòàÏà†/Î¨∏Ìôî', NULL);
INSERT INTO categories (id, name, parent_id) VALUES (7, 'Ïù∏Î¨∏/ÏÇ¨Ìöå', NULL);
INSERT INTO categories (id, name, parent_id) VALUES (8, 'ÏûêÍ∏∞Í≥ÑÎ∞ú', NULL);
INSERT INTO categories (id, name, parent_id) VALUES (9, 'Ï∑®ÎØ∏/Ïã§Ïö©', NULL);
INSERT INTO categories (id, name, parent_id) VALUES (10, 'ÌïôÏäµ/ÏàòÌóò', NULL);
INSERT INTO categories (id, name, parent_id) VALUES (11, 'Í∏∞ÌÉÄ', NULL);
INSERT INTO categories (id, name, parent_id) VALUES (12, 'Í≤ΩÏòÅÏùºÎ∞ò', 1);
INSERT INTO categories (id, name, parent_id) VALUES (13, 'ÎßàÏºÄÌåÖ/ÏÑ∏ÏùºÏ¶à', 1);
INSERT INTO categories (id, name, parent_id) VALUES (14, 'Ïû¨ÌÖåÌÅ¨', 1);
INSERT INTO categories (id, name, parent_id) VALUES (15, 'Ï∞ΩÏóÖ', 1);
INSERT INTO categories (id, name, parent_id) VALUES (16, 'ÌöåÍ≥Ñ/Ïû¨Î¨¥', 1);
INSERT INTO categories (id, name, parent_id) VALUES (17, 'Í≥µÌïôÏùºÎ∞ò', 2);
INSERT INTO categories (id, name, parent_id) VALUES (18, 'ÏàòÌïô', 2);
INSERT INTO categories (id, name, parent_id) VALUES (19, 'ÏûêÏó∞Í≥ºÌïô', 2);
INSERT INTO categories (id, name, parent_id) VALUES (20, 'Ïª¥Ìì®ÌÑ∞Í≥µÌïô', 2);
INSERT INTO categories (id, name, parent_id) VALUES (21, 'ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç', 2);
INSERT INTO categories (id, name, parent_id) VALUES (22, 'Í∑∏ÎûòÌîΩÎÖ∏Î∏î', 3);
INSERT INTO categories (id, name, parent_id) VALUES (23, 'ÏõπÌà∞', 3);
INSERT INTO categories (id, name, parent_id) VALUES (24, 'ÏùºÎ≥∏ÎßåÌôî', 3);
INSERT INTO categories (id, name, parent_id) VALUES (25, 'ÌïúÍµ≠ÎßåÌôî', 3);
INSERT INTO categories (id, name, parent_id) VALUES (26, 'Ïãú/Ìù¨Í≥°', 4);
INSERT INTO categories (id, name, parent_id) VALUES (27, 'ÏóêÏÑ∏Ïù¥', 4);
INSERT INTO categories (id, name, parent_id) VALUES (28, 'Ïô∏Íµ≠ÏÜåÏÑ§', 4);
INSERT INTO categories (id, name, parent_id) VALUES (29, 'ÌïúÍµ≠ÏÜåÏÑ§', 4);
INSERT INTO categories (id, name, parent_id) VALUES (30, 'ÎèôÌôîÏ±Ö', 5);
INSERT INTO categories (id, name, parent_id) VALUES (31, 'Ïú†ÏïÑÍ∑∏Î¶ºÏ±Ö', 5);
INSERT INTO categories (id, name, parent_id) VALUES (32, 'Ï≤≠ÏÜåÎÖÑ Î¨∏Ìïô', 5);
INSERT INTO categories (id, name, parent_id) VALUES (33, 'ÌïôÏäµÎßåÌôî', 5);
INSERT INTO categories (id, name, parent_id) VALUES (34, 'ÎØ∏Ïà†/ÎîîÏûêÏù∏', 6);
INSERT INTO categories (id, name, parent_id) VALUES (35, 'ÏÇ¨ÏßÑ', 6);
INSERT INTO categories (id, name, parent_id) VALUES (36, 'ÏòÅÌôî/Ïó∞Í∑π', 6);
INSERT INTO categories (id, name, parent_id) VALUES (37, 'ÏùåÏïÖ/ÏïÖÎ≥¥', 6);
INSERT INTO categories (id, name, parent_id) VALUES (38, 'ÏÇ¨ÌöåÌïô', 7);
INSERT INTO categories (id, name, parent_id) VALUES (39, 'Ïã¨Î¶¨Ìïô', 7);
INSERT INTO categories (id, name, parent_id) VALUES (40, 'Ïó≠ÏÇ¨', 7);
INSERT INTO categories (id, name, parent_id) VALUES (41, 'Ï†ïÏπò/Î≤ï', 7);
INSERT INTO categories (id, name, parent_id) VALUES (42, 'Ï≤†Ìïô', 7);
INSERT INTO categories (id, name, parent_id) VALUES (43, 'Î¶¨ÎçîÏã≠', 8);
INSERT INTO categories (id, name, parent_id) VALUES (44, 'ÏÑ±Í≥µ/ÎèôÍ∏∞Î∂ÄÏó¨', 8);
INSERT INTO categories (id, name, parent_id) VALUES (45, 'ÏäµÍ¥Ä', 8);
INSERT INTO categories (id, name, parent_id) VALUES (46, 'ÏãúÍ∞ÑÍ¥ÄÎ¶¨', 8);
INSERT INTO categories (id, name, parent_id) VALUES (47, 'Ïù∏Í∞ÑÍ¥ÄÍ≥Ñ', 8);
INSERT INTO categories (id, name, parent_id) VALUES (48, 'Í±¥Í∞ï', 9);
INSERT INTO categories (id, name, parent_id) VALUES (49, 'Ïó¨Ìñâ', 9);
INSERT INTO categories (id, name, parent_id) VALUES (50, 'ÏöîÎ¶¨', 9);
INSERT INTO categories (id, name, parent_id) VALUES (51, 'Ïú°ÏïÑ', 9);
INSERT INTO categories (id, name, parent_id) VALUES (52, 'Ïù∏ÌÖåÎ¶¨Ïñ¥', 9);
INSERT INTO categories (id, name, parent_id) VALUES (53, 'Í≥µÎ¨¥Ïõê/ÏàòÌóòÏÑú', 10);
INSERT INTO categories (id, name, parent_id) VALUES (54, 'ÎåÄÌïôÍµêÏû¨', 10);
INSERT INTO categories (id, name, parent_id) VALUES (55, 'Î¨∏Ï†úÏßë', 10);
INSERT INTO categories (id, name, parent_id) VALUES (56, 'ÏûêÍ≤©Ï¶ù', 10);
INSERT INTO categories (id, name, parent_id) VALUES (57, 'Ï¥à¬∑Ï§ë¬∑Í≥† Ï∞∏Í≥†ÏÑú', 10);
INSERT INTO categories (id, name, parent_id) VALUES (58, 'Í∏∞ÌÉÄÎèÑÏÑú', 11);
INSERT INTO categories (id, name, parent_id) VALUES (59, 'Ïû°ÏßÄ', 11);
INSERT INTO categories (id, name, parent_id) VALUES (60, 'Ï†ïÍ∏∞Í∞ÑÌñâÎ¨º', 11);

-- ========================
-- üó∫Ô∏è SIDO, SIGG, EMD AREAS DATA
-- ========================

-- SIDO_AREAS
INSERT INTO sido_areas (id, adm_code, name) VALUES (1, '11', 'ÏÑúÏö∏ÌäπÎ≥ÑÏãú');
INSERT INTO sido_areas (id, adm_code, name) VALUES (9, '31', 'Í≤ΩÍ∏∞ÎèÑ');

-- SIGG_AREAS
INSERT INTO sigg_areas (id, sido_area_id, adm_code, name) VALUES (23, 1, '230', 'Í∞ïÎÇ®Íµ¨');
INSERT INTO sigg_areas (id, sido_area_id, adm_code, name) VALUES (84, 9, '030', 'ÏùòÏ†ïÎ∂ÄÏãú');

-- EMD_AREAS
INSERT INTO emd_areas (id, sigg_area_id, adm_code, name) VALUES (213, 23, '640', 'Ïó≠ÏÇºÎèô');
INSERT INTO emd_areas (id, sigg_area_id, adm_code, name) VALUES (785, 84, '570', 'Ïã†Í≥°Îèô');

-- ========================
-- üåê EMD_AREAS GEOMETRY UPDATE
-- ========================

-- ÏÑúÏö∏ÌäπÎ≥ÑÏãú Í∞ïÎÇ®Íµ¨ Ïó≠ÏÇºÎèô
UPDATE emd_areas SET geom = ST_GeomFromText('POLYGON ((37.5043339 127.049072, 37.5040552 127.0492037, 37.5038699 127.0492912, 37.5037312 127.0493567, 37.5033713 127.0495267, 37.5029558 127.049723, 37.5029557 127.049723, 37.5027034 127.0498422, 37.5023027 127.0500314, 37.5023003 127.0500326, 37.5022992 127.0500331, 37.5022991 127.0500331, 37.5017612 127.0502872, 37.5013517 127.0504806, 37.5013051 127.0505026, 37.5012286 127.0505387, 37.5012082 127.0505483, 37.5005541 127.0508572, 37.5005541 127.0508573, 37.5005015 127.0508821, 37.4999999 127.051119, 37.4999143 127.0511594, 37.4996931 127.0512639, 37.4996844 127.051268, 37.4993875 127.0514082, 37.4990333 127.0515755, 37.4987796 127.0516953, 37.4986481 127.0517574, 37.4983219 127.0519114, 37.4981871 127.0519751, 37.4975907 127.0522567, 37.4972964 127.0523957, 37.497115 127.0524814, 37.497095 127.0524909, 37.4970596 127.0525076, 37.497046 127.052514, 37.4969995 127.0525359, 37.4968275 127.0526171, 37.4968222 127.0526196, 37.4964893 127.0527768, 37.4964258 127.0528069, 37.4963143 127.0528596, 37.4963077 127.0528627, 37.4962885 127.0528068, 37.496114 127.0522999, 37.4959451 127.0518094, 37.4958861 127.051638, 37.4957704 127.051302, 37.4957521 127.051249, 37.4955992 127.0508048, 37.4955096 127.0505446, 37.4953843 127.050181, 37.4952668 127.0498398, 37.4952446 127.0497753, 37.4951126 127.049392, 37.4949714 127.048982, 37.4947863 127.0484446, 37.4947862 127.0484444, 37.4947711 127.0484003, 37.4947305 127.0482825, 37.4945952 127.0478896, 37.4945345 127.0477132, 37.4945241 127.0476831, 37.4942013 127.0467458, 37.4941913 127.0467168, 37.4941932 127.0467159, 37.4941943 127.0467154, 37.4940005 127.0460839, 37.493981 127.0460204, 37.4939114 127.0457936, 37.4937104 127.0451385, 37.4937102 127.0451379, 37.4932973 127.0437925, 37.4932869 127.0437585, 37.4932453 127.0436229, 37.4932281 127.0435667, 37.493135 127.0432633, 37.4928769 127.0424223, 37.4926619 127.0417216, 37.4925928 127.0414965, 37.4925807 127.0414569, 37.4924071 127.0408915, 37.4924036 127.04088, 37.4924007 127.0408814, 37.492176 127.0401494, 37.4921566 127.0400862, 37.4921565 127.040086, 37.4921437 127.0400442, 37.4919258 127.0393345, 37.4919258 127.0393344, 37.4918953 127.0392348, 37.4915116 127.0379847, 37.4914947 127.0379296, 37.4914921 127.0379211, 37.4914522 127.0377912, 37.491201 127.0369728, 37.4911471 127.0367973, 37.4911463 127.0367945, 37.4911387 127.03677, 37.4911387 127.0367698, 37.4910488 127.0364771, 37.4909127 127.0360336, 37.4906127 127.0350563, 37.4904598 127.0345579, 37.4904567 127.0345579, 37.4904367 127.0345578, 37.4903143 127.0345568, 37.4902771 127.0344357, 37.4902758 127.0344317, 37.4902755 127.0344305, 37.490206 127.0342042, 37.4902052 127.0342015, 37.490159 127.0340511, 37.4901491 127.0340188, 37.4901395 127.0339878, 37.4900458 127.0336826, 37.4899869 127.0334907, 37.4899783 127.0334626, 37.4899564 127.0333914, 37.4899164 127.033261, 37.4898503 127.0330458, 37.4898349 127.0329956, 37.4898333 127.0329904, 37.4898235 127.0329583, 37.4897126 127.032597, 37.4896223 127.0323028, 37.4895323 127.0320099, 37.4894501 127.0319637, 37.4896166 127.0318843, 37.4896358 127.0318751, 37.4895561 127.0316154, 37.4895561 127.0316153, 37.4895549 127.0316113, 37.4900833 127.031359, 37.4900835 127.0313589, 37.4915496 127.0306588, 37.4915527 127.0306574, 37.4918319 127.030524, 37.4919241 127.03048, 37.491936 127.0304743, 37.4921256 127.0303838, 37.4923301 127.0302862, 37.493026 127.0299539, 37.4930369 127.0299486, 37.4946711 127.0291683, 37.4946714 127.0291681, 37.495143 127.0289429, 37.4953543 127.028842, 37.4955693 127.0287393, 37.4963054 127.0283878, 37.4963066 127.0283872, 37.4963073 127.0283869, 37.4966157 127.0282396, 37.496637 127.0282294, 37.496659 127.0282189, 37.4979492 127.0276027, 37.4979501 127.0276023, 37.4979528 127.027601, 37.4979536 127.0276007, 37.4985173 127.0273314, 37.4994812 127.0268711, 37.4994851 127.0268692, 37.4995071 127.0268587, 37.5003621 127.0264504, 37.5007348 127.0262724, 37.5010624 127.0261159, 37.5020117 127.0256625, 37.5020193 127.0256588, 37.5025989 127.025382, 37.5025991 127.0253819, 37.5029214 127.0252279, 37.5029477 127.0252154, 37.50317 127.0251092, 37.5035085 127.0249475, 37.5039042 127.0247585, 37.5044715 127.0244875, 37.5044777 127.0244846, 37.5044857 127.0245113, 37.5044858 127.0245114, 37.5045576 127.0247489, 37.504719 127.025283, 37.5047283 127.0253137, 37.504734 127.0253326, 37.5047378 127.0253452, 37.5048357 127.0256696, 37.504878 127.0258098, 37.5048928 127.0258589, 37.5050684 127.0264412, 37.5052692 127.0271065, 37.5053652 127.0274249, 37.5054134 127.0275847, 37.5054775 127.0277972, 37.5055181 127.0279318, 37.5055786 127.0281321, 37.5058263 127.0289536, 37.5058901 127.0291648, 37.5059774 127.0294544, 37.5060642 127.0297422, 37.5061095 127.0298923, 37.506178 127.0301195, 37.5062005 127.030194, 37.5062385 127.0303199, 37.5062438 127.0303376, 37.5062465 127.0303466, 37.5063511 127.0306935, 37.5065795 127.0314504, 37.5065795 127.0314505, 37.5067638 127.0320617, 37.5068349 127.0322971, 37.5068351 127.0322977, 37.5068829 127.0324562, 37.5069912 127.0328156, 37.5069913 127.0328158, 37.5073103 127.0338735, 37.5073121 127.0338795, 37.5073238 127.033918, 37.5075652 127.0347185, 37.5076307 127.0349359, 37.5076311 127.0349373, 37.5079501 127.035995, 37.5079525 127.0360031, 37.5081141 127.0365389, 37.5082474 127.0369808, 37.5083113 127.0371927, 37.5083113 127.0371928, 37.5084361 127.0376064, 37.5086903 127.0384494, 37.5086971 127.038472, 37.5086974 127.0384731, 37.5087111 127.0385197, 37.5087535 127.0386643, 37.508918 127.0392249, 37.5089234 127.0392432, 37.5091673 127.0400746, 37.5091673 127.0400747, 37.5092659 127.0404106, 37.5093544 127.0407122, 37.5094411 127.0410076, 37.5094421 127.0410113, 37.5094642 127.0410863, 37.5095295 127.0413091, 37.5095343 127.0413253, 37.5095872 127.0415056, 37.5098393 127.0423649, 37.5100011 127.0429164, 37.5100153 127.042965, 37.5101111 127.0432915, 37.5102509 127.043768, 37.5102672 127.0438236, 37.5102685 127.0438281, 37.5102754 127.0438517, 37.5095908 127.0441061, 37.5094743 127.0441494, 37.5094631 127.0441538, 37.5093843 127.0441849, 37.5092956 127.0442244, 37.5092443 127.0442497, 37.509208 127.0442677, 37.5091216 127.0443147, 37.5090366 127.0443655, 37.508953 127.0444201, 37.508871 127.0444782, 37.5087907 127.0445399, 37.508715 127.0446027, 37.5087121 127.0446051, 37.5086354 127.0446737, 37.5085607 127.0447456, 37.508488 127.0448207, 37.5084174 127.0448989, 37.508349 127.0449802, 37.5082829 127.0450644, 37.5082192 127.0451516, 37.508158 127.0452413, 37.5081112 127.0453149, 37.5080992 127.0453338, 37.5080542 127.0454072, 37.507902 127.0456555, 37.5078996 127.0456595, 37.5076733 127.0460286, 37.5071606 127.046865, 37.5069077 127.0472776, 37.5069071 127.0472785, 37.5068843 127.0473157, 37.5068842 127.0473158, 37.5068778 127.0473262, 37.5068193 127.0474182, 37.5068089 127.0474335, 37.5067588 127.0475069, 37.5067584 127.0475076, 37.506695 127.0475943, 37.5066292 127.0476782, 37.5065854 127.0477304, 37.5065612 127.0477592, 37.506491 127.0478372, 37.5064186 127.047912, 37.5064124 127.0479181, 37.5063443 127.0479837, 37.5062679 127.0480521, 37.5061898 127.0481172, 37.50611 127.0481788, 37.5060574 127.0482162, 37.5060284 127.0482368, 37.505985 127.0482653, 37.5059481 127.0482895, 37.5059453 127.0482913, 37.5058608 127.0483421, 37.5057748 127.0483893, 37.5057329 127.0484101, 37.5056876 127.0484326, 37.5056485 127.0484511, 37.5054069 127.0485652, 37.5051983 127.0486638, 37.5051444 127.0486892, 37.5047279 127.0488859, 37.5047186 127.0488903, 37.5045242 127.0489821, 37.5045159 127.0489861, 37.5045126 127.0489876, 37.5043339 127.049072))', 4326) WHERE adm_code = '640' AND name = 'Ïó≠ÏÇºÎèô';

-- Í≤ΩÍ∏∞ÎèÑ ÏùòÏ†ïÎ∂ÄÏãú Ïã†Í≥°Îèô
UPDATE emd_areas SET geom = ST_GeomFromText('POLYGON ((37.7410557 127.0741107, 37.7401416 127.0744948, 37.7397951 127.0748051, 37.7397014 127.0748891, 37.7396591 127.0749451, 37.7394065 127.0747081, 37.7394064 127.074708, 37.739401 127.074703, 37.7393948 127.0746971, 37.7391933 127.074573, 37.7391928 127.0745727, 37.7391133 127.0745237, 37.7384759 127.0746346, 37.7380287 127.0744873, 37.7380056 127.0744793, 37.7379504 127.0744112, 37.7375239 127.0738854, 37.7375239 127.0738853, 37.7375207 127.0738814, 37.7374963 127.0738513, 37.7374627 127.0738026, 37.7374587 127.0737968, 37.737369 127.0736667, 37.7373531 127.0736495, 37.7373524 127.0736487, 37.7372909 127.0735821, 37.7371812 127.0733799, 37.7371806 127.0733787, 37.7370365 127.0731133, 37.7370076 127.0730601, 37.736989 127.0729865, 37.7369423 127.0729948, 37.7369421 127.0729948, 37.7366814 127.0730407, 37.7364926 127.073074, 37.7363302 127.0732342, 37.7362617 127.07336, 37.7360494 127.0734571, 37.7359518 127.0734763, 37.7359168 127.073484, 37.7357904 127.0735118, 37.7357483 127.0734912, 37.7357464 127.0734903, 37.7357136 127.0734739, 37.7356877 127.073453, 37.7355938 127.0733729, 37.7355497 127.0733334, 37.7354673 127.0732648, 37.7354544 127.0732527, 37.7354154 127.073216, 37.7353813 127.0731841, 37.7353803 127.0731832, 37.7353548 127.0731593, 37.7351004 127.0729144, 37.7350699 127.0728848, 37.7348544 127.0723794, 37.7347519 127.0722704, 37.7344112 127.0719845, 37.7343299 127.0719308, 37.7340098 127.0716912, 37.7337189 127.0714734, 37.7335549 127.0712881, 37.7328385 127.0712429, 37.7320638 127.0710477, 37.7312763 127.0717158, 37.7311388 127.0718428, 37.7310365 127.0719198, 37.7309134 127.0720081, 37.7308228 127.0720204, 37.7307661 127.0720292, 37.7307539 127.0720299, 37.7307037 127.0720349, 37.7306659 127.072039, 37.7306524 127.07204, 37.730629 127.0720512, 37.7303819 127.0722005, 37.7303818 127.0722005, 37.7303584 127.0722147, 37.7300768 127.07248, 37.7300404 127.0725492, 37.7299206 127.0730368, 37.7299204 127.0730376, 37.7298888 127.0731659, 37.729873 127.0731755, 37.7298728 127.0731757, 37.729575 127.0733564, 37.7295302 127.0733899, 37.7291562 127.0737781, 37.7290068 127.0742625, 37.7290035 127.0743602, 37.7290034 127.0743613, 37.7290016 127.0744162, 37.7290006 127.0744457, 37.7281484 127.074446, 37.7279017 127.0742462, 37.7278228 127.0741687, 37.7274084 127.0739108, 37.7274083 127.0739108, 37.7273871 127.0738976, 37.7272661 127.0739918, 37.7272658 127.0739905, 37.7270803 127.0741365, 37.7270801 127.0741367, 37.7270581 127.0741539, 37.7270579 127.074154, 37.7270437 127.0741651, 37.7270431 127.0741655, 37.7269979 127.0742007, 37.7269908 127.0742041, 37.726929 127.0742335, 37.726634 127.0743739, 37.7265541 127.0744028, 37.7263827 127.0744557, 37.7263789 127.0744569, 37.7263055 127.0744796, 37.7262764 127.0744892, 37.7262503 127.0744985, 37.7262116 127.0745132, 37.7260243 127.0746048, 37.7260239 127.074605, 37.7260212 127.0746064, 37.7258185 127.0745395, 37.7254152 127.0743371, 37.7245907 127.0742094, 37.7239281 127.0738178, 37.7233299 127.0736551, 37.722356 127.0738374, 37.7216727 127.0737413, 37.7213169 127.0736584, 37.7213164 127.0736583, 37.7208718 127.0735547, 37.7218226 127.0722669, 37.721928 127.0717432, 37.7219641 127.0714549, 37.7219381 127.0709381, 37.7219303 127.0707826, 37.7219706 127.0701021, 37.7221333 127.0696338, 37.722276 127.0691792, 37.7222487 127.0685896, 37.722295 127.0677172, 37.7222958 127.0677013, 37.7220152 127.0673716, 37.7220148 127.0673711, 37.72181 127.0671305, 37.7219923 127.0661701, 37.7219204 127.0657181, 37.7220509 127.0654548, 37.722051 127.0654546, 37.7221593 127.0652361, 37.7217968 127.0647066, 37.7217967 127.0647064, 37.7216903 127.0645509, 37.721693 127.0634834, 37.7215967 127.0630571, 37.7215244 127.0624787, 37.721483 127.0621139, 37.7214636 127.0619388, 37.7214229 127.0615717, 37.7214088 127.0614294, 37.72144 127.061404, 37.7214882 127.061345, 37.7215503 127.0612853, 37.7215538 127.0612819, 37.7215552 127.0612806, 37.7218139 127.0613105, 37.7219525 127.0613266, 37.7221448 127.0614613, 37.7222118 127.0614193, 37.7224503 127.0612696, 37.7227201 127.0613661, 37.7228567 127.0614945, 37.7229048 127.0615483, 37.7229379 127.0615669, 37.723051 127.06167, 37.7234609 127.061955, 37.7235837 127.0620391, 37.7238414 127.0622959, 37.7238745 127.0623288, 37.7239312 127.0623465, 37.7239578 127.0623548, 37.7239967 127.0623988, 37.7239819 127.0624499, 37.7239952 127.0624883, 37.724155 127.062624, 37.7242698 127.0627205, 37.7243401 127.0627797, 37.7248047 127.0631703, 37.7248842 127.0631269, 37.7249567 127.0630874, 37.7249979 127.0631298, 37.7250971 127.0632678, 37.7252069 127.0633342, 37.7253807 127.06348, 37.7254218 127.0635223, 37.7254691 127.0635341, 37.7255822 127.0636058, 37.725809 127.063749, 37.7259069 127.06381, 37.7259462 127.0638315, 37.7260325 127.0638863, 37.7260681 127.0639053, 37.7261577 127.06396, 37.7262638 127.0639923, 37.7263854 127.064028, 37.7264123 127.0640359, 37.7264635 127.0640508, 37.7264685 127.0632748, 37.7264708 127.0631818, 37.7264742 127.0630835, 37.7264814 127.0630213, 37.7264826 127.0630105, 37.7264826 127.0630013, 37.7264837 127.0623703, 37.726484 127.062204, 37.7264842 127.0620706, 37.7264843 127.0620236, 37.7264848 127.0617024, 37.7264853 127.061439, 37.7264857 127.0611921, 37.7264864 127.0607973, 37.7264864 127.0607885, 37.7264874 127.0602096, 37.7264875 127.0601864, 37.7264071 127.0601354, 37.7261743 127.060184, 37.7258488 127.0602518, 37.7257468 127.0602731, 37.7257231 127.0601289, 37.7257219 127.0600999, 37.7257154 127.0599509, 37.7257123 127.0598778, 37.7264245 127.0597294, 37.7264892 127.0596423, 37.7264921 127.0588743, 37.7264927 127.0587246, 37.7264927 127.0587076, 37.7264954 127.0579997, 37.7264963 127.0577641, 37.7264981 127.0572919, 37.7265002 127.0567235, 37.7265009 127.056536, 37.7265052 127.0553996, 37.7265056 127.0553092, 37.7265058 127.0552314, 37.7265061 127.0551506, 37.7265062 127.0551418, 37.7265066 127.0550286, 37.7265074 127.0547809, 37.7265088 127.054384, 37.7265153 127.0543802, 37.7265167 127.0542263, 37.7265091 127.0542269, 37.7265091 127.0541317, 37.7265205 127.0541296, 37.7265226 127.0539493, 37.7265104 127.0539351, 37.7265118 127.0535322, 37.726512 127.0534797, 37.7265129 127.0532147, 37.7265137 127.0530492, 37.7265136 127.0530284, 37.7265136 127.0530193, 37.7265092 127.0528808, 37.7265089 127.0528702, 37.7265049 127.0527468, 37.7265044 127.0527291, 37.7265046 127.0525809, 37.7265047 127.0525105, 37.7265056 127.0520234, 37.7265134 127.0520185, 37.726602 127.0519628, 37.7266863 127.0519099, 37.7270291 127.0516876, 37.7271636 127.0515557, 37.727164 127.0515553, 37.727341 127.0513817, 37.7273597 127.0513961, 37.7275723 127.0515598, 37.7275734 127.0515606, 37.7276521 127.0516212, 37.7281388 127.0519958, 37.7283316 127.0521247, 37.7288485 127.0524704, 37.7288692 127.0524907, 37.7288898 127.0525109, 37.7288954 127.0525164, 37.729113 127.0527302, 37.7293338 127.05302, 37.7293507 127.0530421, 37.7296239 127.0534007, 37.7296305 127.0534093, 37.729849 127.0536959, 37.7298493 127.0536963, 37.7298517 127.0536995, 37.729878 127.0537257, 37.7299089 127.0537564, 37.7300075 127.0538544, 37.7301042 127.0539505, 37.7302243 127.05407, 37.7303169 127.0541621, 37.7305182 127.0543622, 37.7306464 127.0543676, 37.7306641 127.0543684, 37.7306665 127.0543685, 37.731145 127.0543887, 37.7311957 127.0543631, 37.7312304 127.0543455, 37.7312432 127.054339, 37.7317529 127.0540811, 37.7321972 127.0538562, 37.7322903 127.0538774, 37.7322995 127.0538795, 37.7323064 127.0538811, 37.7324517 127.0539142, 37.7326732 127.0539159, 37.7327422 127.0539194, 37.7328882 127.0539268, 37.7329748 127.0539285, 37.7329763 127.0539286, 37.7329764 127.0539286, 37.7332159 127.0539333, 37.7332786 127.053938, 37.7333276 127.0539416, 37.7337793 127.0540573, 37.7338597 127.0540779, 37.7340277 127.0541209, 37.7341138 127.0541231, 37.7348881 127.054143, 37.7348925 127.0541431, 37.7349388 127.0541248, 37.7349389 127.0541247, 37.7350367 127.0540861, 37.73504 127.0540848, 37.7353899 127.0539464, 37.7357197 127.0538164, 37.7357471 127.0538056, 37.7358789 127.0537537, 37.7360301 127.0536941, 37.7360364 127.0536916, 37.7360557 127.053684, 37.7360557 127.053679, 37.7360852 127.0536672, 37.7361989 127.0536216, 37.7364048 127.0535348, 37.736458 127.0535129, 37.7366962 127.0534149, 37.7371686 127.0532191, 37.7373672 127.0532537, 37.7374357 127.0532655, 37.7374738 127.0532721, 37.7374823 127.0532735, 37.7377584 127.0533206, 37.7377585 127.0533207, 37.7378157 127.0533304, 37.7380639 127.0533736, 37.7383733 127.053427, 37.7385364 127.0534547, 37.7387153 127.0535038, 37.739021 127.0535874, 37.7390416 127.0535932, 37.7390634 127.0535993, 37.7390635 127.0535993, 37.7391358 127.0536196, 37.7391384 127.0536203, 37.7394659 127.0537121, 37.7396595 127.0537664, 37.7396595 127.05377, 37.7397005 127.0537929, 37.7397268 127.0538075, 37.7397603 127.0538262, 37.7402693 127.0541098, 37.7405159 127.0541825, 37.7405489 127.0541922, 37.7406872 127.0542329, 37.7410438 127.054338, 37.741428 127.0542781, 37.741438 127.0542766, 37.7416275 127.054247, 37.7417712 127.0542247, 37.7417876 127.0542221, 37.7419737 127.0541931, 37.7419874 127.054191, 37.7420302 127.0541843, 37.7421202 127.0541703, 37.7421242 127.0541697, 37.742141 127.054167, 37.7421418 127.0541669, 37.7421915 127.0541592, 37.7424434 127.0541978, 37.7425787 127.0542186, 37.7426863 127.0542351, 37.7427108 127.0542389, 37.7429912 127.0542819, 37.7430025 127.0542836, 37.7430236 127.0542869, 37.7431626 127.0543082, 37.7432631 127.0543236, 37.7433937 127.0543268, 37.7434034 127.054327, 37.7434066 127.0543271, 37.7439618 127.0543405, 37.7440369 127.0543423, 37.7440472 127.0543425, 37.7441642 127.0546024, 37.74433 127.0549707, 37.7444201 127.0551553, 37.7444232 127.0551618, 37.7444981 127.0553152, 37.7446197 127.0554951, 37.7448666 127.0558602, 37.7451434 127.0562695, 37.745183 127.056328, 37.7452701 127.0564569, 37.7452802 127.0564371, 37.7454314 127.0561379, 37.745448 127.0560698, 37.7455247 127.0559094, 37.7457093 127.0561876, 37.745388 127.0565581, 37.7453602 127.0565901, 37.745453 127.0567274, 37.7457507 127.0570069, 37.7457637 127.057019, 37.745979 127.0572212, 37.7459793 127.0572215, 37.7461664 127.0573972, 37.7462943 127.0575173, 37.7464639 127.0576966, 37.7465152 127.0578226, 37.7465154 127.0578232, 37.7465718 127.0579619, 37.7466199 127.0580378, 37.746865 127.0584252, 37.7472795 127.0588869, 37.7473232 127.0589356, 37.7476334 127.0594501, 37.7479026 127.0599251, 37.747999 127.0600952, 37.7480959 127.0602949, 37.7482571 127.0606272, 37.7483347 127.0608158, 37.7484189 127.0610206, 37.7484199 127.061023, 37.7484877 127.061188, 37.7485078 127.0612475, 37.7486454 127.0616556, 37.7486908 127.0617902, 37.7486979 127.0618111, 37.7487 127.0618174, 37.7487259 127.0618941, 37.7487359 127.0619311, 37.7488358 127.0622986, 37.748891 127.0625262, 37.7489291 127.0626828, 37.7489391 127.0627239, 37.7491709 127.0636783, 37.7493241 127.0643088, 37.7493665 127.0644839, 37.7493665 127.064484, 37.7495018 127.0650435, 37.7495738 127.0653409, 37.7497039 127.0658789, 37.7498494 127.0664802, 37.7498955 127.0666707, 37.7499981 127.0670949, 37.7501854 127.0678696, 37.7503922 127.0687242, 37.7504008 127.0687597, 37.750403 127.0687692, 37.7505156 127.0692346, 37.7506739 127.0698892, 37.7508294 127.0705321, 37.7508708 127.0707032, 37.7511328 127.0717806, 37.7512524 127.0722722, 37.7512549 127.0722825, 37.7512549 127.0722826, 37.7512653 127.0723253, 37.751335 127.0725684, 37.7514683 127.0729315, 37.7514824 127.0729598, 37.7515031 127.0730017, 37.7516584 127.0733155, 37.7518565 127.0736254, 37.7521462 127.0739629, 37.7521463 127.0739631, 37.7526187 127.0745135, 37.752634 127.0745313, 37.75279 127.0747132, 37.7527989 127.0747235, 37.7528037 127.074729, 37.7528255 127.0747545, 37.7528802 127.0748172, 37.753557 127.0755931, 37.7537962 127.0759385, 37.7538196 127.0759878, 37.7538414 127.0760337, 37.7538441 127.0760394, 37.7538466 127.0760445, 37.7541286 127.0766378, 37.7542662 127.0763573, 37.7541783 127.0773331, 37.7541411 127.0777465, 37.75412 127.0779801, 37.7542839 127.0786671, 37.754284 127.0786677, 37.7542892 127.0786895, 37.7541673 127.0794194, 37.7540604 127.0798102, 37.7538169 127.0802174, 37.753556 127.0812061, 37.7534169 127.081457, 37.7534164 127.0814578, 37.7533189 127.0816336, 37.7533168 127.0816375, 37.7532326 127.0817893, 37.7532073 127.0818097, 37.7532064 127.0818104, 37.7529014 127.0820566, 37.75272 127.082203, 37.7523348 127.0824267, 37.7523052 127.0824418, 37.7521925 127.0825067, 37.7521177 127.0825497, 37.7521016 127.0825563, 37.7521015 127.0825564, 37.7520968 127.0825583, 37.7520455 127.0825834, 37.7520309 127.08259, 37.7513945 127.0828795, 37.7513647 127.082893, 37.7512956 127.0829247, 37.7512059 127.0830054, 37.7508849 127.0832885, 37.7509857 127.0830755, 37.7510389 127.082963, 37.7511006 127.0828326, 37.7512547 127.0827568, 37.7512476 127.0827168, 37.7512206 127.0825646, 37.7515088 127.0819801, 37.7515107 127.0819762, 37.7515207 127.0819559, 37.7512949 127.0817225, 37.7510036 127.081395, 37.7510036 127.0813949, 37.7510035 127.0813949, 37.7509943 127.0813845, 37.7509836 127.0813725, 37.7507846 127.0811487, 37.7506719 127.0810221, 37.7505887 127.0809286, 37.7505868 127.0809264, 37.7505695 127.0809069, 37.7500795 127.0803561, 37.7499213 127.0801782, 37.7499212 127.0801781, 37.7498939 127.0801473, 37.7497082 127.0799387, 37.7496883 127.0799162, 37.7496362 127.0798577, 37.7496272 127.0798641, 37.7495273 127.0799358, 37.7492534 127.0801354, 37.7492523 127.0801362, 37.7491943 127.0801785, 37.7490493 127.0802842, 37.7490293 127.0802988, 37.7487882 127.0804745, 37.7486853 127.0805495, 37.7486308 127.0805892, 37.7486132 127.0806042, 37.7486122 127.0806028, 37.7485507 127.0806476, 37.7482728 127.0808501, 37.7479789 127.0810644, 37.7479365 127.0810953, 37.7477885 127.0812032, 37.7476947 127.0812934, 37.7476872 127.0813007, 37.7475556 127.0814275, 37.7471661 127.0818025, 37.7471156 127.0818512, 37.746706 127.0822456, 37.7466948 127.0822565, 37.7466144 127.0823339, 37.7466013 127.0822999, 37.7464169 127.0818205, 37.7463191 127.0815729, 37.7461606 127.081171, 37.7461106 127.0810444, 37.745845 127.0803711, 37.7457826 127.0802129, 37.7457444 127.0801162, 37.7454857 127.0794956, 37.7453714 127.0792141, 37.7451917 127.0787718, 37.7451156 127.0785883, 37.7450841 127.0785395, 37.7450328 127.0784963, 37.7451769 127.0785314, 37.7452018 127.0785375, 37.745241 127.078547, 37.7453659 127.0785775, 37.7453714 127.0785788, 37.7455663 127.0786688, 37.7455711 127.078671, 37.7456466 127.078702, 37.7456989 127.0787234, 37.7457388 127.0787396, 37.7458597 127.0787831, 37.745876 127.0787903, 37.7459673 127.0788169, 37.7461053 127.0788486, 37.746219 127.0788731, 37.746364 127.078903, 37.7464704 127.0789121, 37.746686 127.0789169, 37.7468471 127.0788824, 37.7467612 127.0787158, 37.7467331 127.0786609, 37.746524 127.0779848, 37.7464802 127.0777642, 37.746475 127.0777384, 37.7464276 127.0774997, 37.7464018 127.077369, 37.746344 127.0772968, 37.7462832 127.0772207, 37.7462573 127.077188, 37.7462196 127.0771403, 37.7459375 127.0767843, 37.7459047 127.0767453, 37.7457869 127.0765993, 37.7457388 127.0765394, 37.7457269 127.0765154, 37.7457026 127.0764648, 37.7456035 127.0762593, 37.7455512 127.0761503, 37.744911 127.0755199, 37.7448745 127.0754839, 37.7448637 127.0754616, 37.7447781 127.0752855, 37.7448077 127.0751993, 37.74483 127.0751339, 37.7449015 127.0749253, 37.7449087 127.0749043, 37.7449298 127.0748433, 37.7449701 127.074728, 37.744987 127.0746796, 37.744969 127.074663, 37.7449687 127.0746627, 37.7449 127.0745993, 37.7447632 127.0744755, 37.7447614 127.0744739, 37.7447267 127.0744425, 37.7446002 127.0741542, 37.7445444 127.0740278, 37.7445008 127.0739279, 37.7444587 127.0738318, 37.7443541 127.0736001, 37.7442833 127.0734415, 37.7442519 127.0734073, 37.7441777 127.0733265, 37.744042 127.0731807, 37.7439951 127.0731285, 37.7438924 127.0730175, 37.7435873 127.0730677, 37.7435871 127.0730677, 37.7435356 127.0730762, 37.743263 127.0731506, 37.7431191 127.0731801, 37.7431179 127.0731804, 37.7430854 127.073187, 37.7430555 127.0732029, 37.7430553 127.073203, 37.7428781 127.0732973, 37.7428389 127.0733176, 37.7420903 127.0732811, 37.7420725 127.0732802, 37.7420664 127.0732847, 37.742066 127.073285, 37.7419375 127.0733779, 37.7417009 127.0735692, 37.7413136 127.073934, 37.7412684 127.0739765, 37.7412554 127.0739885, 37.7412553 127.0739885, 37.7412019 127.0740374, 37.7410557 127.0741107))', 4326) WHERE adm_code = '570' AND name = 'Ïã†Í≥°Îèô';
